<div class="container-fluid" [@fadeInRight]>
  <div class="row">
    <div class="col-12">
      <div class="title-banner-card shadow-sm">
        <div class="title-banner-content d-flex align-items-center justify-content-between flex-wrap p-1 pb-0">
          <div class="d-flex align-items-center gap-3">
            <div class="title-icon">
              <i class="fas fa-plus"></i>
            </div>
            <div>
              <h4 class="title-title">{{ title }}</h4>
              <p class="title-subtitle">Captura la información requerida para el registro.</p>
            </div>
          </div>
          <div class="title-actions">
            <div class="title-tagline">
              <span class="line"></span>
              <span class="text">Control y configuración centralizada</span>
            </div>
          </div>
        </div>
        <div class="row mt-3 gy-4">
          <form [formGroup]="cajaForm">
            <div class="col-12">
              <div class="row mt-0">
                  <div class="col-12 col-md-6 col-lg-3">
                    <label class="field">
                      <span class="field-label text-white">Sala</span>
                      <dx-select-box
                        [dataSource]="listaSalas"
                        displayExpr="text"
                        valueExpr="id"
                        formControlName="idSala"
                        placeholder="Selecciona una sala..."
                        searchEnabled="true"
                        searchMode="contains"
                        [showClearButton]="true"
                        class="dx-select-box-custom dx-select-box-sala">
                      </dx-select-box>
                    </label>
                  </div>
                  <div class="col-12 col-md-6 col-lg-3">
                    <label class="field">
                      <span class="field-label text-white">Zona</span>
                      <dx-select-box
                        [dataSource]="listaZonas"
                        displayExpr="text"
                        valueExpr="id"
                        formControlName="idZona"
                        placeholder="Selecciona una zona..."
                        searchEnabled="true"
                        searchMode="contains"
                        [showClearButton]="true"
                        class="dx-select-box-custom dx-select-box-zona">
                      </dx-select-box>
                    </label>
                  </div>
                  <div class="col-12 col-md-6 col-lg-3">
                    <label class="field">
                      <span class="field-label text-white">Código</span>
                      <div class="input-sleek">
                        <i class="fas fa-barcode"></i>
                        <input formControlName="codigo" class="sleek-control" type="text"
                          placeholder="CAJA-001" />
                        <span class="sleek-line"></span>
                      </div>
                    </label>
                  </div>
                  <div class="col-12 col-md-6 col-lg-3">
                    <label class="field">
                      <span class="field-label text-white">Nombre</span>
                      <div class="input-sleek">
                        <i class="fas fa-tag"></i>
                        <input formControlName="nombre" class="sleek-control" type="text"
                          placeholder="Nombre de la caja" />
                        <span class="sleek-line"></span>
                      </div>
                    </label>
                  </div>
                  <div class="col-12 col-md-6 col-lg-3">
                    <label class="field">
                      <span class="field-label text-white">Tipo Caja</span>
                      <dx-select-box
                        [dataSource]="listaTiposCaja"
                        displayExpr="text"
                        valueExpr="id"
                        formControlName="idTipoCaja"
                        placeholder="Selecciona un tipo..."
                        searchEnabled="true"
                        searchMode="contains"
                        [showClearButton]="true"
                        class="dx-select-box-custom dx-select-box-tipo-caja">
                      </dx-select-box>
                    </label>
                  </div>
                  <div class="col-12 col-md-6 col-lg-3">
                    <label class="field">
                      <span class="field-label text-white">Estatus Caja</span>
                      <dx-select-box
                        [dataSource]="listaEstatusCaja"
                        displayExpr="text"
                        valueExpr="id"
                        formControlName="idEstatusCaja"
                        placeholder="Selecciona un estatus..."
                        searchEnabled="true"
                        searchMode="contains"
                        [showClearButton]="true"
                        class="dx-select-box-custom dx-select-box-estatus">
                      </dx-select-box>
                    </label>
                  </div>
                  <div class="col-12 col-md-6 col-lg-3">
                    <label class="field">
                      <span class="field-label text-white">Límite Efectivo</span>
                      <div class="input-sleek">
                        <i class="fas fa-dollar-sign"></i>
                        <input formControlName="limiteEfectivo" class="sleek-control" type="text"
                          placeholder="0.00" (keypress)="allowOnlyNumbers($event)" />
                        <span class="sleek-line"></span>
                      </div>
                    </label>
                  </div>
                  <div class="col-12 col-md-6 col-lg-3">
                    <label class="field">
                      <span class="field-label text-white">Requiere Arqueo</span>
                      <dx-select-box
                        [dataSource]="listaRequiereArqueo"
                        displayExpr="text"
                        valueExpr="id"
                        formControlName="requiereArqueo"
                        placeholder="Selecciona..."
                        searchEnabled="false"
                        [showClearButton]="true"
                        class="dx-select-box-custom dx-select-box-estatus">
                      </dx-select-box>
                    </label>
                  </div>
                  <div class="col-12 col-md-12 col-lg-12">
                    <label class="field">
                      <span class="field-label text-white">Descripción</span>
                      <div class="input-sleek input-sleek--textarea">
                        <i class="fas fa-comment-alt"></i>
                        <textarea formControlName="descripcion" class="sleek-control sleek-control--textarea"
                          placeholder="Ingresa la descripción..." rows="3"></textarea>
                        <span class="sleek-line"></span>
                      </div>
                    </label>
                  </div>
                </div>

              <!-- Botones de acción -->
              <div class="row mt-4">
                <div class="col-12 d-flex justify-content-start gap-3 flex-wrap">
                  <button (click)="submit()" type="button" class="btn-alt btn-alt--success" [disabled]="loading">
                    <i class="fas fa-check"></i>
                    <span>{{ submitButton }}</span>
                  </button>
                  <button (click)="cancelar()" type="button" class="btn-alt btn-alt--cancel" [disabled]="loading">
                    <i class="fas fa-times"></i>
                    <span>Cancelar</span>
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
